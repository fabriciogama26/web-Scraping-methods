import requests
from bs4 import BeautifulSoup
import pandas as pd

"use strict";var g_search={};function GetIndex(a){return Array.prototype.indexOf.call(a.parentElement.children,a)}function CreateSvg(b,a){let svg=document.createElementNS("http://www.w3.org/2000/svg","svg");if(b){svg.classList.add(b)}let use=document.createElementNS("http://www.w3.org/2000/svg","use");use.setAttribute("href","/img/sprites_v32.svg"+a);svg.appendChild(use);return svg}function ParentElement(c,b,a,d){b=b.toLowerCase();if(a!==false){a=a.toLowerCase()}while(c){if(c.tagName.toLowerCase()==b&&(!d||c.classList.contains(d))){return c}if(c.tagName.toLowerCase()==a||c==document.body){return false}c=c.parentElement}return false}function Isset(a){if(typeof a!=="undefined"){return true}return false}function Dataset(b,a){if(b&&("dataset" in b)&&(a in b.dataset)){return b.dataset[a]}return false}let g_ajax_requests={};function Ajax(a){let debug="debug" in a;let index=a.url;if("leaving" in a){index="leaving"}if(index in g_ajax_requests){if(index==="leaving"){if(debug){console.log("Blocking requests because "+index)}return}g_ajax_requests[index].abort();delete g_ajax_requests[index];if(debug){console.log("Aborting previous request "+index)}}let request=new XMLHttpRequest();request.open("POST",a.url);request.timeout=30000;request.onload=function(){if(debug){console.log("Response status: "+request.status)}if(request.status==403){window.location="/login"}else{if(request.status!=200){if(confirm("An error occurred :( BAAAAAD programmers!\n\nIf you see this error again, please contact us and describe how to reproduce it. We will then fix it as soon as possible. Thanks! <3\n\nWould you like to reload the page?")){location.reload()}}else{if(debug){console.log("Response: "+request.response)}if("success" in a){if(debug){console.log("Calling success function")}a.success(request.response)}if(index in g_ajax_requests&&index!=="leaving"){delete g_ajax_requests[index]}}}};let form=new FormData();if("data" in a){if(a.data instanceof FormData){form=a.data}else{for(let key in a.data){form.append(key,a.data[key])}}if(debug){console.log("Sending data: "+form)}}else{if(debug){console.log("Sending no data")}}request.send(form);g_ajax_requests[index]=request}function Abort(a){if(a in g_ajax_requests){g_ajax_requests[a].abort();delete g_ajax_requests[a]}}function ClearClasses(a){for(let i=a.classList.length-1;i>=0;--i){a.classList.remove(a.classList[i])}}function IsMobile(){if(window.matchMedia("(max-width: 767px)").matches){return true}return false}document.addEventListener("DOMContentLoaded",function(){console.log("Welcome to GoatBots!\nEvery time a script crawls our website, a little goat gets lost. So please download our prices instead: https://www.goatbots.com/download-prices.\nThis way we can keep the website fast and free for the entire herd. Thanks! <3");window.addEventListener("load",function(){setTimeout(function(){document.body.classList.remove("loading")},0)},{once:true});var J=document.getElementsByClassName("price-list");let g_OnClickCardList=false;let g_bodyId=document.body.id;if(window.matchMedia("(min-width: 1400px)").matches){let oBlink=document.getElementById("logo-blink");setInterval(function(){oBlink.style.visibility="visible";setTimeout(function(){oBlink.style.visibility="hidden"},125)},7500);let iEgg=0;let oEgg=document.getElementById("background");oEgg.addEventListener("click",function(){if(++iEgg==5){document.documentElement.classList.add("egg")}});if(document.getElementById("logo-santa")){document.documentElement.classList.add("egg")}}function ah(ai){for(let i=0;i<ai.length;++i){let eButton=document.getElementById(ai[i]);if(!eButton){continue}eButton.addEventListener("click",function(aj){aj.preventDefault();Ajax({url:"/ajax/"+ai[i],leaving:true,success:function(ak){location.reload()}})})}}if(J.length){for(let i=0;i<J.length;++i){J[i].addEventListener("click",function(ai){let eAnchor=ParentElement(ai.target,"a","li");if(!eAnchor){return}let eLi=ParentElement(eAnchor,"li","ul");if(!eLi){return}let eUl=ParentElement(eLi,"ul",false);if(!eUl){return}let iIndex=GetIndex(eLi);if(ai.target.tagName.toLowerCase()=="a"&&ai.target.classList.contains("trade-history-show-all")){ai.preventDefault();ai.target.parentElement.style.display="none";let aHidden=eUl.querySelectorAll("li.hidden");for(let i=0;i<aHidden.length;++i){aHidden[i].classList.remove("hidden")}let ePanel=ParentElement(eUl,"div",false,"panel");if(ePanel){ePanel.style.maxHeight=ePanel.scrollHeight+"px"}return}if(!iIndex){return}--iIndex;if(g_OnClickCardList&&eUl.classList.contains("selectable")){ai.preventDefault();g_OnClickCardList(eLi,iIndex,ai)}let eDiv=ParentElement(ai.target,"div","li","delivery");if(eDiv){ai.preventDefault();if("item" in eLi.dataset){O(eDiv,eLi.dataset.item)}}eDiv=ParentElement(ai.target,"div","li","favorite");if(eDiv){ai.preventDefault();if("item" in eLi.dataset){m(eDiv,eLi.dataset.item)}}})}let eShowBulk=document.getElementById("show-bulk");if(eShowBulk){document.body.addEventListener("keydown",g);function g(ai){if(ai.which===70&&(ai.ctrlKey||ai.metaKey)){eShowBulk.click()}}eShowBulk.addEventListener("click",function(ai){ai.preventDefault();document.body.removeEventListener("keydown",g);let eUl=ai.target.parentElement.previousElementSibling;if(eUl&&eUl.classList.contains("price-list")){ai.target.classList.add("invisible");ai.target.parentElement.classList.remove("link-wrap-border");eUl.style.overflow="hidden";eUl.style.maxHeight=eUl.scrollHeight+"px";let aHidden=eUl.querySelectorAll("li.hidden");for(let i=0;i<aHidden.length;++i){aHidden[i].classList.remove("hidden")}eUl.style.maxHeight=eUl.scrollHeight+"px";setTimeout(function(){eUl.style.overflow="initial";eUl.style.maxHeight="initial";if(!ai.target.previousElementSibling){ai.target.parentElement.classList.add("hidden")}},400)}})}}const d={oHoverDiv:false,aHovers:[],iActive:false,oActive:false};function Y(ai){if(!Isset(ai.parentElement)){return false}let oParents=document.querySelectorAll(ai.parentElement);if(!oParents.length){return false}let iIndex=d.aHovers.push(ai)-1;for(let i=0;i<d.aHovers.length;i++){if(i!=iIndex&&d.aHovers[i].parentElement==ai.parentElement){return iIndex}}for(let i=0;i<oParents.length;i++){let oParent=oParents[i];oParent.addEventListener("mouseover",function(aj){a(aj,ai.parentElement,oParent)});oParent.addEventListener("mouseout",function(aj){c(aj)})}return iIndex}function a(ak,aj,ai){if(d.iActive!==false){return}let oElement=ak.target;while(oElement){for(let i=0;i<d.aHovers.length;i++){if(aj==d.aHovers[i].parentElement&&Isset(d.aHovers[i].Hover)&&d.aHovers[i].Hover(oElement,ai)===true){H(i,oElement,false);return}}if(oElement===ai||oElement===document.body){break}oElement=oElement.parentElement}}function c(ai){if(d.iActive===false){return}let s=d.aHovers[d.iActive];let oHoverDiv=d.oHoverDiv;if(Isset(ai)){let oElement=ai.relatedTarget;while(oElement){if(oElement===d.oActive){return}oElement=oElement.parentElement}if(s.Out){s.Out(oHoverDiv,oElement)}}d.iActive=false;d.oActive=false;oHoverDiv.classList.add("hover-hidden");oHoverDiv.classList.remove("hover-fadein");if(s.hoverClass){oHoverDiv.classList.remove(s.hoverClass)}}let _HoverAutoCloseTimer=false;function H(aj,ai,ak){if(!d.aHovers[aj]){return false}if(_HoverAutoCloseTimer!==false){clearTimeout(_HoverAutoCloseTimer);_HoverAutoCloseTimer=false}if(!d.oHoverDiv){d.oHoverDiv=document.createElement("div");d.oHoverDiv.id="hover";d.oHoverDiv.classList.add("hover-hidden");document.body.appendChild(d.oHoverDiv)}d.iActive=aj;d.oActive=ai;let s=d.aHovers[d.iActive];let oHoverDiv=d.oHoverDiv;if(window.getComputedStyle(ai).getPropertyValue("opacity")=="0"){return}oHoverDiv.style.left="0px";oHoverDiv.style.top="0px";oHoverDiv.style.backgroundImage="initial";if(s.hoverClass){oHoverDiv.classList.add(s.hoverClass)}let sHover="&nbsp;";if(ak!==false){sHover=ak}else{if("hover" in ai.dataset){sHover=ai.dataset.hover}}oHoverDiv.innerHTML=sHover;if(s.In){s.In(oHoverDiv,ai)}W();oHoverDiv.classList.add("hover-fadein");if(ak!==false||window.matchMedia("(max-width: 767px)").matches||!window.matchMedia("(hover: hover)").matches){_HoverAutoCloseTimer=setTimeout(function(){z();_HoverAutoCloseTimer=false},4000)}}function W(){if(d.iActive===false){return}let oHoverDiv=d.oHoverDiv;let oElement=d.oActive;let s=d.aHovers[d.iActive];oHoverDiv.classList.remove("hover-hidden");let oBounds=oHoverDiv.getBoundingClientRect();let oComputed=window.getComputedStyle(oHoverDiv);let iViewPortHeight=document.documentElement.clientHeight;let iViewPortWidth=document.documentElement.clientWidth;let iPageYOffset=window.pageYOffset;let iMarginTop=parseInt(oComputed.getPropertyValue("margin-top").replace("px",""),10);let iMarginLeft=parseInt(oComputed.getPropertyValue("margin-left").replace("px",""),10);let iTop=oElement.offsetTop;let iLeft=oElement.offsetLeft;let iHeight=oElement.offsetHeight;let iWidth=oElement.offsetWidth;let iTopNew=iTop+iHeight/2-oBounds.height/2;let iLeftNew=iLeft+iWidth;if(s.alignHover){if(s.alignHover=="top"){iTopNew=iTop;iLeftNew=iLeft+iWidth}else{if(s.alignHover=="bottom"){iTopNew=iTop+iHeight;iLeftNew=iLeft+iWidth/2-oBounds.width/2}else{if(s.alignHover=="bottom-overlay"){iTopNew=iTop+iHeight*0.8;iLeftNew=iLeft+iWidth/2-oBounds.width/2}else{if(s.alignHover=="test"){iTopNew=iTop;iLeftNew=iLeft}}}}}if(iTopNew+oBounds.height+iMarginTop>iPageYOffset+iViewPortHeight){iTopNew=iPageYOffset+iViewPortHeight-oBounds.height-iMarginTop}else{if(iTopNew+iMarginTop<iPageYOffset){iTopNew=iPageYOffset-iMarginTop}}if(iLeftNew+iMarginLeft<0){iLeftNew=0-iMarginLeft}else{if(iLeftNew+oBounds.width+iMarginLeft>iViewPortWidth){iLeftNew=iViewPortWidth-oBounds.width-iMarginLeft}}oHoverDiv.style.top=iTopNew+"px";oHoverDiv.style.left=iLeftNew+"px"}function z(){c()}function ab(ak,aj,ai){z();H(ak,aj,ai)}window.addEventListener("resize",function(){z()});let iTriggerCartHover=false;if(J.length){const S={parentElement:".price-list",alignHover:"bottom-overlay",hoverClass:"hover-initial",Hover:function(ai,aj){if(ai.classList.contains("rarity")&&!ai.parentElement.parentElement.classList.contains("header")){return true}},In:function(ai,aj){},Out:function(ai,aj){}};Y(S);const q={parentElement:".price-list",alignHover:"bottom-overlay"};iTriggerCartHover=Y(q);const t={parentElement:".price-list",alignHover:"bottom-overlay",hoverClass:"hover-stock",Hover:function(ai,aj){if(ai.classList.contains("stock")&&!ai.parentElement.parentElement.classList.contains("header")){return true}},In:function(ai,aj){let li=ParentElement(aj,"li","ul");if(!li||!("item" in li.dataset)){return}if(aj.classList.contains("out")){return}Ajax({url:"/ajax/stock",data:{item:li.dataset.item},success:function(ak){ai.innerHTML=ak;W()}})},Out:function(ai,aj){Abort("/ajax/stock")}};Y(t);if(window.matchMedia("(hover: hover)").matches){const T={parentElement:".price-list",alignHover:"bottom-overlay",Hover:function(ai,aj){if(ai.tagName.toLowerCase()!="div"){return false}let oClassList=ai.classList;if(!oClassList.length){return false}if((oClassList.contains("ev")||oClassList.contains("initial")||oClassList.contains("collection")||(aj.classList.contains("redeemable")&&(oClassList.contains("cash")||oClassList.contains("buy")||oClassList.contains("sell"))))&&!ai.parentElement.parentElement.classList.contains("header")){return true}},In:function(ai,aj){if(aj.classList.contains("ev")){ai.innerHTML="Expected value is based<br>on our current buy prices"}else{if(aj.classList.contains("initial")){ai.innerHTML="The price change since this<br>item was added to your cart"}}}};Y(T);const V={parentElement:".price-list",alignHover:"top",hoverClass:"hover-card-image",Hover:function(ai,aj){if(ai.classList.contains("img")&&Dataset(ai,"img")){return true}},In:function(ai,aj){ai.style.backgroundImage="url(/img/cards/"+aj.dataset.img+".jpg)";ai.innerHTML="";if(Dataset(ParentElement(aj,"li",false),"foil")){let oSvg=CreateSvg(false,"#img-foil");oSvg.id="hover-foil";ai.appendChild(oSvg)}}};Y(V)}}if(document.querySelectorAll("#upload").length){const E={parentElement:"#upload",alignHover:"bottom",hoverClass:"hover-upload",Hover:function(ai,aj){if(ai.tagName.toLowerCase()=="span"){return true}},In:function(ai,aj){ai.innerHTML="Upload a deck from another website<br>or a file exported from Magic Online"}};Y(E)}let iTriggerFavoriteHover=false;if(g_bodyId=="card"){const N={parentElement:"#card-icons",alignHover:"bottom-overlay",Hover:function(ai,aj){if(ai!=aj&&ai.tagName.toLowerCase()=="div"){return true}}};iTriggerFavoriteHover=Y(N)}const ag=300;function U(ai){ai.bLoading=false;ai.ePanel=false;ai.Open=function(aj){ai.bLoading=true;z();ai.ePanel=aj;ai.ePanel.style.maxHeight=aj.scrollHeight+"px";ai.ePanel.classList.add("open");setTimeout(function(){ai.bLoading=false},ag)};ai.Close=function(){ai.bLoading=true;z();ai.ePanel.style.maxHeight=null;let eScope=ai.ePanel;ai.ePanel=false;setTimeout(function(){if(eScope){eScope.classList.remove("open")}ai.bLoading=false},ag)};ai.Toggle=function(aj){if(ai.bLoading){return}if(ai.ePanel){ai.Close()}else{ai.Open(aj)}}}let sUseAccordion=false;if(g_bodyId=="trade-history"){sUseAccordion="/ajax/trade-history"}else{if(g_bodyId=="event-calculator"){sUseAccordion=true}}if(sUseAccordion){let eLi=false;let oPanel={};U(oPanel);g_OnClickCardList=function(aj,ak,ai){if(oPanel.bLoading){return}oPanel.bLoading=true;if(eLi){eLi.classList.remove("active","loaded");let eScope=oPanel.ePanel;if(sUseAccordion!==true){setTimeout(function(){eScope.remove()},ag)}oPanel.Close();if(aj==eLi){eLi=false;return}}eLi=aj;eLi.classList.add("active");let ePanel=eLi.firstElementChild.nextElementSibling;if(ePanel){oPanel.Open(ePanel)}else{eLi.classList.add("loading");Ajax({url:sUseAccordion,data:{ajax_id:eLi.dataset.ajax_id},success:function(al){eLi.classList.remove("loading");eLi.classList.add("loaded");ePanel=document.createElement("div");ePanel.classList.add("panel");ePanel.innerHTML=al;eLi.firstElementChild.after(ePanel);oPanel.Open(ePanel)}})}}}let eNav=document.getElementsByTagName("nav")[0];if(eNav){let oOpen={menu:false,submenu:false,selected:false};let oMenuItems=eNav.querySelectorAll("nav > ul > li > a");let eMenuActive=false;document.getElementById("hamburger").addEventListener("click",function(){this.classList.toggle("eaten");let bOpen=eNav.classList.toggle("open");if(bOpen&&!oOpen.menu){X(eMenuActive)}});for(let i=0;i<oMenuItems.length;i++){let oMenu=oMenuItems[i];if(!Dataset(oMenu,"submenu")){continue}if(oMenu.classList.contains("active")){eMenuActive=oMenu}oMenu.addEventListener("mouseenter",function(ai){if(P()){return}X(oMenu)});oMenu.addEventListener("mouseleave",function(ai){if(P()){return}b(ai)});oMenu.addEventListener("focus",function(ai){if(P()){return}X(oMenu)});oMenu.addEventListener("blur",function(ai){if(P()){return}b(ai)});oMenu.addEventListener("mousedown",function(ai){ai.preventDefault()});oMenu.addEventListener("click",function(ai){ai.preventDefault();if(!P()){return false}X(oMenu)})}function P(){return IsMobile()}function X(ai){if(!ai){return}if(oOpen.menu==ai){if(P()){b()}return}b();oOpen.menu=ai;oOpen.submenu=document.getElementById("submenu-"+ai.dataset.submenu);ai.classList.add("hover");oOpen.submenu.classList.add("open");if(!P()){oOpen.submenu.addEventListener("mouseleave",b);document.body.addEventListener("keydown",n)}}function b(ai){if(!oOpen.menu){return}if(ai&&ai.relatedTarget){let oElement=ai.relatedTarget;while(oElement){if(oElement&&oElement.classList&&(oElement===oOpen.menu||oElement===oOpen.submenu)){return}oElement=oElement.parentNode;if(oElement===document.body){break}}}if(oOpen.selected){oOpen.selected.classList.remove("selected");oOpen.selected=false}document.body.removeEventListener("keydown",n);oOpen.submenu.removeEventListener("mouseleave",b);oOpen.submenu.classList.remove("open");oOpen.menu.classList.remove("hover");oOpen.menu=false;oOpen.submenu=false}function n(ai){if(!oOpen.menu){return}if(ai.which===13){if(oOpen.selected){window.location.href=oOpen.selected.querySelectorAll("a")[0].href}}else{if(ai.which===38){if(oOpen.selected===false){oOpen.selected=oOpen.submenu.querySelectorAll("li:first-of-type")[0]}Z(oOpen.selected.previousElementSibling?oOpen.selected.previousElementSibling:oOpen.selected.parentElement.lastElementChild);ai.preventDefault()}else{if(ai.which===40){if(oOpen.selected===false){oOpen.selected=oOpen.submenu.querySelectorAll("li:last-of-type")[0]}Z(oOpen.selected.nextElementSibling?oOpen.selected.nextElementSibling:oOpen.selected.parentElement.firstElementChild);ai.preventDefault()}else{if(ai.which===39){let eNext=oOpen.menu.parentElement.nextElementSibling;if(eNext){eNext.firstElementChild.focus()}ai.preventDefault()}else{if(ai.which===37){let ePrev=oOpen.menu.parentElement.previousElementSibling;if(ePrev&&ePrev.firstElementChild.dataset.submenu){ePrev.firstElementChild.focus()}ai.preventDefault()}}}}}}function Z(ai){if(oOpen.selected!==false){oOpen.selected.classList.remove("selected")}oOpen.selected=ai;oOpen.selected.classList.add("selected")}}if(g_bodyId=="about"){document.getElementById("trading-post").addEventListener("click",function(){this.classList.toggle("active")})}if(g_bodyId=="bots"||g_bodyId=="contact"){var h=new Date();let _iOnlineBotsTimeout=1000;function x(){Ajax({url:"/ajax/bots",data:{hash:bot_hash},success:function(ai){if(!ai){return}ai=JSON.parse(ai);if(ai!==true){bot_hash=ai.hash;let oBots=document.getElementsByClassName("bot-status");if(oBots.length!=ai.bots.length){return}if(new Date()-h>60*15*1000){for(let i=0;i<oBots.length;i++){oBots[i].classList.toggle("busy",true);oBots[i].style.opacity=0.33}return}for(let i=0;i<oBots.length;i++){let oBusy=oBots[i].classList.contains("busy");if(oBusy&&!ai.bots[i]||!oBusy&&ai.bots[i]){oBots[i].style.opacity=0;setTimeout(function(){oBots[i].classList.toggle("busy",!oBusy);oBots[i].style.opacity=1},750)}}}else{}setTimeout(function(){x()},1000)}})}x()}if(g_bodyId=="card"){const D=4;let graph_animate_date;let graph_animate_steps;let graph_animate_range;let graph_animate_timeout;let graph_months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];let graph_element=false;function aa(){graph_element=new Dygraph(document.getElementById("card-graph"),card_obj.hist,{series:{"":{axis:"y2"}},labels:["time",""],colors:["#df652a"],connectSeparatedPoints:true,axes:{x:{axisLineColor:"transparent",axisLabelWidth:80,pixelsPerLabel:100,drawGrid:false},y:{axisLineColor:"transparent",independentTicks:false,axisLabelWidth:0},y2:{axisLineColor:"transparent",axisLabelWidth:30,independentTicks:true,pixelsPerLabel:40}},gridLineColor:"#444",gridLineWidth:0.75,highlightCircleSize:8,strokeWidth:2,axisLabelFontSize:16,legend:"always",legendFormatter:function(ai){if(!ai.x){return""}let date=new Date(ai.x);return'<div id="graph-legend">'+graph_months[date.getMonth()]+" "+date.getDate()+", "+date.getFullYear()+" &nbsp;&mdash;&nbsp; "+v(ai.series[0].y)+"</div>"},width:"auto",height:"auto",animatedZooms:true,dateWindow:card_obj.ranges[range_index].dates,digitsAfterDecimal:4,interactionModel:{}})}function B(){graph_element.updateOptions({file:card_obj.hist});af()}function L(){card_stock.innerHTML=card_obj.stock}function F(){Ajax({url:"/ajax/price-history",data:{item:card_obj.item},success:function(ai){ai=JSON.parse(ai);if(ai){card_obj.stock="stock" in ai?ai.stock:"";L();if("hist" in ai&&Array.isArray(ai.hist)){card_obj.hist=ai.hist;C(card_obj.hist);if(!graph_element){aa()}else{B()}}}}})}function r(){let step_count=25;if(++graph_animate_steps==step_count){graph_element.updateOptions({dateWindow:graph_animate_date});return}let range=[];for(let i=0;i!=2;++i){range.push(new Date(graph_animate_range[i].getTime()+(graph_animate_date[i]-graph_animate_range[i])/step_count*graph_animate_steps))}graph_element.updateOptions({dateWindow:range});graph_animate_timeout=setTimeout(r,25)}function af(){graph_animate_date=card_obj.ranges[range_index].dates;clearTimeout(graph_animate_timeout);graph_animate_steps=0;graph_animate_range=graph_element.xAxisRange();r()}function v(ai){let abs=Math.abs(ai);if(!abs||abs>=0.01){return ai.toFixed(2)}if(abs>=0.001){return ai.toFixed(3)}return ai.toFixed(4)}function C(ai){for(let j=0;j<ai.length;++j){let rows=ai[j];rows[0]=new Date(rows[0])}}function u(ai){if(range_index!==false&&ai!=range_index){card_range.children[range_index].classList.remove("selected")}range_index=ai;card_range.children[range_index].classList.add("selected")}function M(){card_favorite.dataset.hover=("favorite" in card_obj?"Remove from":"Add to")+" your favorites"}function A(){if(range_date){let i;for(i=0;i<D-1&&card_obj.ranges[i+1]!==false&&card_obj.ranges[i].dates[0]>range_date;++i){}u(i)}card_elements[card_obj.index].classList.add("selected");for(let i=0;i!=card_range.children.length;++i){let li=card_range.children[i];if(card_obj.ranges[i]===false){li.style.display="none"}else{li.style.display="flex";let button=li.firstElementChild;let price=card_obj.ranges[i].price;let label=card_obj.ranges[i].label;let range=button.children;range[0].innerHTML=label;if(label!="Hi"&&label!="Lo"){range[1].classList.remove("up","down");if(price.length>0){switch(price[0]){case"+":range[1].classList.add("up");break;case"-":range[1].classList.add("down");break}}}range[1].innerHTML=price}}let bFoil=!Dataset(card_elements[card_obj.index],"foil");card_image_front.src="/img/cards/"+card_obj.img+".jpg";card_foil_front.classList.toggle("hidden",bFoil);if(card_image_back){card_image_back.src="/img/backs/"+card_obj.img+".jpg";card_wrap.classList.remove("flip");card_foil_back.classList.toggle("hidden",bFoil)}card_setlink.innerHTML=card_obj.version.toLowerCase();card_sethref.href=card_obj.href;card_treasure.dataset.hover="treasure" in card_obj?"Treasure chest chance: 1 in "+card_obj.treasure:"Not currently in treasure chests";card_treasure.classList.toggle("active","treasure" in card_obj);M();card_favorite.classList.toggle("active","favorite" in card_obj)}g_OnClickCardList=function(ak,aj,ai){if(card_obj.index===aj){return}card_elements[card_obj.index].classList.remove("selected");card_obj=card_info[aj];history.replaceState(null,null,card_obj.hash?"#"+card_obj.hash:window.location.pathname);A();if(graph_element&&"hist" in card_obj){Abort("/ajax/price-history");B();L()}else{F()}};let card_hashes={};for(let i in card_info){let card=card_info[i];card_hashes[card.hash]=i;let j;for(j=0;j<card.ranges.length;++j){if(card.ranges[j]!==false){card.ranges[j].dates[0]=new Date(card.ranges[j].dates[0]);card.ranges[j].dates[1]=new Date(card.ranges[j].dates[1])}}if("hist" in card){C(card.hist)}}let card_wrap=document.getElementById("card-wrap");let card_image_front=document.getElementById("card-image-front");let card_image_back=document.getElementById("card-image-back");let card_foil_front=document.getElementById("card-foil-front");let card_foil_back=document.getElementById("card-foil-back");let card_setlink=document.getElementById("card-setname");let card_sethref=document.getElementById("card-setlink");let card_elements=document.querySelectorAll(".price-list li:not(.header)");let card_range=document.getElementById("card-ranges");let card_treasure=document.getElementById("card-icon-treasure");let card_favorite=document.getElementById("card-icon-favorite");let card_stock=document.getElementById("card-stock");let hash="";if(window.location.hash&&window.location.hash[0]=="#"){hash=window.location.hash.substr(1)}let card_obj=card_info[(hash in card_hashes)?card_hashes[hash]:0];let range_date=new Date(range_default);let range_index=false;card_image_front.src="";card_image_front.addEventListener("load",function(){card_wrap.classList.remove("invisible")},{once:true});A();document.getElementById("card-links").classList.remove("invisible");if("hist" in card_obj){aa()}else{F()}card_range.addEventListener("click",function(ai){let button=ParentElement(ai.target,"button","li");if(button){let index=GetIndex(button.parentNode);u(index);range_date=index>=D?false:card_obj.ranges[range_index].dates[0];if("hist" in card_obj){af()}}});if(document.getElementById("card-image-back")){card_wrap.addEventListener("click",function(ai){this.classList.toggle("flip")})}let eFavoriteHref=document.getElementById("favorite");let eFavoriteIcon=document.getElementById("card-icon-favorite");eFavoriteHref.addEventListener("click",function(ai){ai.preventDefault();let iActive=eFavoriteIcon.classList.toggle("active")?1:0;if(iActive){card_obj.favorite=1}else{if("favorite" in card_obj){delete card_obj.favorite}}ab(iTriggerFavoriteHover,eFavoriteIcon,iActive?"Added favorite":"Removed favorite");M();Ajax({url:"/ajax/favorite",data:{item:card_obj.item,add:iActive},success:function(aj){}})})}if(g_bodyId=="contact"){let oForm=document.getElementById("contact-form");if(oForm){oForm.addEventListener("submit",function(){let eInput=document.createElement("input");eInput.type="hidden";eInput.name="send";eInput.value="1337";oForm.appendChild(eInput)})}}if(J.length){let eDeliveryCount=document.getElementById("delivery-count");let eDeliveryPrice=document.getElementById("delivery-price");var O=function(aj,ai){let eQuantity=aj.querySelector(".delivery-count");if(!eQuantity){eQuantity=document.createElement("div");eQuantity.classList.add("delivery-count");aj.prepend(eQuantity)}eQuantity.innerHTML="&middot;";Ajax({url:"/ajax/delivery-item",data:{item:ai},abort:"item"+ai,success:function(ak){ak=JSON.parse(ak);if(typeof ak=="string"){if(aj.childElementCount>1){aj.firstElementChild.remove()}ab(iTriggerCartHover,aj,ak)}else{if(ak.quantity){eQuantity.innerHTML=ak.quantity}else{eQuantity.remove()}eDeliveryCount.innerHTML=ak.count;if(eDeliveryPrice){eDeliveryPrice.innerHTML=ak.price}}}})};var m=function(aj,ai){aj.classList.toggle("active");Ajax({url:"/ajax/favorite",data:{item:ai,add:aj.classList.contains("active")?1:0}})}}if(g_bodyId=="delivery"){let aButtons=["delivery-invite","delivery-cancel","delivery-empty","delivery-start","delivery-again"];ah(aButtons);let eSteps=document.getElementById("delivery-steps");if(eSteps&&("hash" in eSteps.dataset)){let sHash=eSteps.dataset.hash;function R(){setTimeout(function(){Ajax({url:"/ajax/delivery-status",data:{hash:sHash},success:function(ai){ai=JSON.parse(ai);if(!ai){location.reload()}else{if(ai===true){R()}else{document.getElementById("delivery-text").innerHTML=ai.text;eSteps.classList.add(ai.step,ai.status);let eList=document.createElement("div");eList.innerHTML=ai.list;let eUlOld=document.querySelector(".price-list");let eUlNew=eList.querySelector(".price-list");if(eUlOld&&eUlNew){let aLiOld=eUlOld.getElementsByTagName("li");let aLiNew=eUlNew.getElementsByTagName("li");if(aLiOld&&aLiNew&&aLiOld.length&&aLiOld.length==aLiNew.length){for(let i=0;i<aLiOld.length;++i){let eAnchorOld=aLiOld[i].querySelector("a");let eAnchorNew=aLiNew[i].querySelector("a");if(!eAnchorOld||!eAnchorNew){continue}let eDivsOld=eAnchorOld.getElementsByTagName("div");let eDivsNew=eAnchorNew.getElementsByTagName("div");if(!eDivsOld||!eDivsNew||!eDivsOld.length||eDivsOld.length!=eDivsNew.length){continue}for(let j=0;j<eDivsOld.length;++j){let eDivOld=eDivsOld[j];let eDivNew=eDivsNew[j];ClearClasses(eDivOld);for(let k=0;k<eDivNew.classList.length;++k){eDivOld.classList.add(eDivNew.classList[k])}if(eDivOld.innerHTML==eDivNew.innerHTML){continue}eDivOld.innerHTML=eDivNew.innerHTML}}}}if(ai.buttons==2){document.getElementById("delivery-invite").classList.toggle("invisible",false);document.getElementById("delivery-cancel").classList.toggle("invisible",false);document.getElementById("delivery-divider").classList.toggle("invisible",false)}else{if(!ai.buttons){document.getElementById("delivery-cancel").classList.toggle("invisible",true)}sHash=ai.hash;R()}}}}})},1000)}R()}}if(g_bodyId=="event-calculator"){const p={parentElement:"ul",alignHover:"top",Hover:function(ai){if(ai.classList.contains("cardset")){return true}},In:function(ai,aj){},Out:function(ai,aj){}};Y(p);function f(aj,ai){let sText=aj.value;let sId=aj.id.substring(6);if(aj.type=="range"){sText=("step" in aj&&aj.step>0&&aj.step<1?K(sText):sText)+(!aj.min&&!aj.max?"%":"");let eOuput=eOutputs[sId];eOuput.value=sText}oValues[sId]=aj.value;if(!ai){let sIndex=".copy-"+sId;if(!(sIndex in eCopy)){eCopy[sIndex]=document.querySelectorAll(sIndex)}for(let j=0;j<eCopy[sIndex].length;++j){I(eCopy[sIndex][j],sText,true)}y(sId)}}function o(ai){if(ai<2){return 1}return ai*o(ai-1)}function ae(aj,ai){return o(aj)/(o(ai)*o(aj-ai))}function Q(aj,ai,ak){return(Math.round(aj*Math.pow(10,ai))/Math.pow(10,ai)).toFixed(ak)}function K(ai){return Q(ai,3,2)}function l(ai){let val=K(ai);if(val==-0){val=K(0)}return(val>=0?"+":"")+val}function G(ak,aj,ai,al,an,am){let chance=Math.pow(ak/100,an)*Math.pow((100-ak)/100,am);if(aj&&am>=aj){chance*=ae(an+am-1,aj-1)}else{if(al&&an>=al){chance*=ae(an+am-1,am)}else{chance*=ae(al?al:ai,an)}}return chance}function I(aj,ak,ai){aj.innerHTML=ak;if(!ai){return}if(aj.classList.contains("highlight")){aj.classList.remove("highlight");void aj.offsetWidth}aj.classList.add("highlight")}function y(aj){let fType=0;if(aj){fType=oFilters[aj]}else{for(let e in oFilters){fType|=oFilters[e]}}for(let ai in oEvents){let oEvent=oEvents[ai];if(aj&&!(aj in oEvent.filters)){continue}let aEvent=eEvents[oEvent.id];let bActive=aEvent.eLi.classList.contains("active");if(fType&fTypes.entry){oEvent.cached_entry=0;let cost_open={cost:"eCost",open:"eOpen"};for(let index in cost_open){let ev_index="ev_"+index;let items_index="items_"+index;let value=(index in oEvent)?parseFloat(oEvent[index]):0;if(items_index in oEvent){for(let item in oEvent[items_index]){value+=oEvent[items_index][item]*oValues[item]}I(aEvent[cost_open[index]],K(value),bActive)}oEvent.cached_entry+=value}}if(fType&(fTypes.prize|fTypes.entry)){for(let sIndex in oEvent.scores){let score=oEvent.scores[sIndex];if(aj&&!(fType&fTypes.entry)&&(!("items_prize" in score)||!(aj in score.items_prize))){continue}score.iCachedPrize=parseFloat(score.price);if("items_prize" in score){for(let item in score.items_prize){score.iCachedPrize+=score.items_prize[item]*oValues[item]}}I(aEvent.eScorePrize[sIndex],l(score.iCachedPrize+oEvent.cached_entry),bActive)}}if(fType&fTypes.chance){let iPlayerMax=2,iPlayerRounds=1;if(oEvent.players){for(;iPlayerMax<oValues[oEvent.players];iPlayerMax*=2,++iPlayerRounds){}oEvent.iCachedRounds=iPlayerRounds}else{oEvent.iCachedRounds=oEvent.rounds}for(let sIndex in oEvent.scores){let oScore=oEvent.scores[sIndex];let bSkip=false;if(!oEvent.players){oScore.iCachedChance=G(oValues["win-percentage"],oEvent.elim,oEvent.rounds,oEvent.max_rounds,oScore.wins,oScore.losses)}else{if(sIndex>iPlayerRounds){oScore.iCachedChance=0;bSkip=true}else{let iWins=oScore.wins-(oEvent.rounds-iPlayerRounds);oScore.iCachedChance=G(oValues["win-percentage"],oEvent.elim,iPlayerRounds,oEvent.max_rounds,iWins,oScore.losses);if(oValues[oEvent.players]!=iPlayerMax&&oValues["win-percentage"]){let iChanceMaxOrg=G(oValues["win-percentage"],oEvent.elim,iPlayerRounds,oEvent.max_rounds,0,1);let iChanceMaxAdj=2*iChanceMaxOrg*(oValues[oEvent.players]-iPlayerMax/2)/oValues[oEvent.players];if(iWins){oScore.iCachedChance*=(1-iChanceMaxAdj)/(1-iChanceMaxOrg)}else{oScore.iCachedChance=iChanceMaxAdj}}}}let sPerc="";if(!bSkip){sPerc+=Q(oScore.iCachedChance*100,3,1).toString();if(sPerc=="100.0"){sPerc="100"}else{if(sPerc=="0.0"){sPerc=oScore.iCachedChance?"<0.1":"0"}}sPerc+="%"}I(aEvent.eScoreChance[sIndex],sPerc,bActive)}}if(fType&(fTypes.chance|fTypes.prize)){oEvent.iCachedPrize=0;for(let sIndex in oEvent.scores){oEvent.iCachedPrize+=oEvent.scores[sIndex].iCachedPrize*oEvent.scores[sIndex].iCachedChance}I(aEvent.ePrize,K(oEvent.iCachedPrize),bActive)}oEvent.iCachedEv=oEvent.cached_entry+oEvent.iCachedPrize;if(oValues["value-by"]){oEvent.iCachedEv/=oEvent.iCachedRounds}let iTotalEv=l(oEvent.iCachedEv);I(aEvent.eValue,iTotalEv,aj&&aj!="win-percentage");aEvent.eValue.classList.toggle("down",iTotalEv<0);aEvent.eValue.classList.toggle("up",iTotalEv>=0)}oEvents.sort(function(al,ak){return ak.iCachedEv-al.iCachedEv});let aLimited={};aLimited[true]=[];aLimited[false]=[];for(let ai in oEvents){let oEvent=oEvents[ai];let aEvent=eEvents[oEvent.id];aLimited[aEvent.bLimited].push(oEvent)}for(var ai in aLimited){let aEvents=aLimited[ai];for(let j=0;j<aEvents.length;++j){let aEvent=eEvents[aEvents[j].id];aEvent.eLi.style.order=j;aEvent.eLi.classList.toggle("even",!(j%2));aEvent.eLi.classList.toggle("bottom",j===aEvents.length-1)}}}let eCopy={};let oValues={};let eEvents=[];let eInputs=document.getElementsByClassName("input");let eTemp=document.getElementsByTagName("output");let eOutputs={};for(let i=0;i<eTemp.length;i++){eOutputs[eTemp[i].id.substring(7)]=eTemp[i]}if(eInputs.length){for(let i=0;i<eInputs.length;++i){f(eInputs[i],true);eInputs[i].addEventListener("input",function(ai){f(this,false)})}let eAnchors=document.querySelectorAll(".price-list.accordion > li:not(.header) > a");for(let i=0;i<eAnchors.length;i++){let eAnchor=eAnchors[i];let ePanel=eAnchor.nextElementSibling;let eLi=eAnchor.parentElement;eEvents.push({eLi:eLi,eAnchor:eAnchor,eValue:eAnchor.querySelector(".value"),ePanel:ePanel,eCost:ePanel.querySelector(".cost"),eOpen:ePanel.querySelector(".open"),ePrize:ePanel.querySelector(".prize"),eScoreChance:ePanel.querySelectorAll(".score-chance"),eScorePrize:ePanel.querySelectorAll(".score-prize"),bLimited:GetIndex(eLi.parentElement.parentElement)===0})}y(false)}let oOptions={eOptions:document.getElementById("calculator-options")};U(oOptions);document.getElementById("calculator-advanced").addEventListener("click",function(ai){ai.preventDefault();oOptions.Toggle(oOptions.eOptions)})}if(g_bodyId=="order"){if(document.getElementById("wise")){let iStep=1;let ePrev=document.getElementById("wise-prev");let eNext=document.getElementById("wise-next");ePrev.addEventListener("click",function(ai){ai.preventDefault();w(iStep-1,true)});eNext.addEventListener("click",function(ai){ai.preventDefault();w(iStep+1,true)});let aInput=document.querySelectorAll("#wise input");for(let i=0;i<aInput.length;++i){aInput[i].addEventListener("focus",function(ai){this.select()})}window.onpopstate=function(ai){ad()};if(window.location.hash&&window.location.hash[0]=="#"){ad()}function ad(){let hash=1;if(window.location.hash&&window.location.hash[0]=="#"){hash=parseInt(window.location.hash.substr(1).replace("step-",""),10)}w(hash,false)}function w(aj,ai){let oNew=document.getElementById("wise-step"+aj);if(!oNew||aj==iStep){return}document.getElementById("wise-circle").classList.toggle("hidden",aj==1);document.getElementById("wise-step"+iStep).classList.add("hidden");oNew.classList.remove("hidden");document.getElementById("wise-steps").classList.remove("step-"+iStep);iStep=aj;document.getElementById("wise-steps").classList.add("step-"+iStep);document.getElementById("wise-step").innerHTML="Step "+iStep;let eStepPrev=document.getElementById("wise-step"+(iStep-1));let eStepNext=document.getElementById("wise-step"+(iStep+1));ePrev.classList.toggle("hidden",!eStepPrev);eNext.classList.toggle("hidden",!eStepNext);if(ai){history.pushState(null,null,"#step-"+aj)}}}}let bSearchInitialized=false;let oSearchInput={cardname:"cardname-input",cardset:"cardset-input",cardtype:"cardtype-input"};function ac(){if(bSearchInitialized){return}bSearchInitialized=true;let eScript=document.createElement("script");eScript.src="/js/goatbots-dropdown-v309.js";document.body.appendChild(eScript)}for(let sName in oSearchInput){let eSearch=document.getElementById(oSearchInput[sName]);if(!eSearch){continue}g_search[sName]=eSearch}for(let sName in g_search){if(document.activeElement===g_search[sName]){ac();break}}if(!bSearchInitialized){for(let sName in g_search){g_search[sName].addEventListener("focus",function(){ac()})}}if((g_bodyId=="home"||(g_bodyId=="card"&&!document.querySelector(".price-list.curated")))&&!IsMobile()){g_search.cardname.focus()}let bCollectionClicked=false;let eUploadFile=document.getElementById("upload-file");if(eUploadFile){let eLabel=document.getElementById("upload-label");if(eLabel){eLabel.addEventListener("click",function(ai){if(Dataset(eUploadFile,"enabled")!=="1"){ai.preventDefault();window.location="/login"}})}eUploadFile.addEventListener("change",function(ai){if(!eUploadFile.files.length){return}let bCollectionScope=bCollectionClicked;let bTracker=g_bodyId=="collection-tracker"&&bCollectionScope;Ajax({url:"https://upload.goatbots.com/parse",data:new FormData(document.getElementById("upload-form")),leaving:true,success:function(aj){let oJson={};try{oJson=JSON.parse(aj)}catch(ak){}let oForm=new FormData;for(let key in oJson){oForm.append(key,oJson[key])}Ajax({url:bTracker?"/ajax/tracker-upload":(bCollectionScope?"/ajax/collection-upload":"/ajax/deck-upload"),data:oForm,success:function(al){window.location=bTracker?"/collection-tracker":"/uploaded-deck"}})}});bCollectionClicked=false;return false})}if(g_bodyId=="upload-deck"||g_bodyId=="uploaded-deck"||g_bodyId=="delivery"){let eUploadDeck=document.getElementById("upload-deck-link");if(eUploadDeck){eUploadDeck.addEventListener("click",function(ai){eUploadFile.click();ai.preventDefault()})}}if(g_bodyId=="uploaded-deck"||g_bodyId=="collection-tracker"){let eUploadCollection=document.getElementById("collection-upload");if(eUploadCollection){eUploadCollection.addEventListener("click",function(ai){ai.preventDefault();let accept=eUploadFile.accept;eUploadFile.accept=accept.replace(",.txt","");bCollectionClicked=true;eUploadFile.click();eUploadFile.accept=accept})}}if(g_bodyId=="uploaded-deck"){let aButtons=["collection-ignore","collection-saved"];ah(aButtons);if(J.length==1&&J[0].classList.contains("deck-version")){g_OnClickCardList=function(aj,ak,ai){Ajax({url:"/ajax/deck-version",data:{ajax_id:aj.dataset.ajax_id},leaving:true,success:function(al){window.location="/delivery"}})}}}},{once:true});

url = 'https://www.goatbots.com/trending/pauper'

# tables = pd.read_html(url)

headers = {
    'Accept': '*/*',
    'Accept-Encoding': 'gzip, deflate, br',
    'Connection': 'keep-alive',
    'Cookie': 'PHPSESSID=31c3malbfrsghc1aju59jttff7; __cf_bm=JLczBSaMUAfwVqc8fFuJhFT6Q9i5T.ftDgFBhtz0kNU-1652400238-0-AcbfAOBKm+3qFRVqJhbQs8ChcfxF7Tnkp4xo0FO3G8UqwJ1X7IB7TF59y8pGGvcj8zX14hc92G3BWlb0hneOaO0=',
    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:100.0) Gecko/20100101 Firefox/100.0',
    'Accept-Language': 'pt-BR,pt;q=0.8,en-US;q=0.5,en;q=0.3',
    'Sec-Fetch-Dest': 'script',
    'Sec-Fetch-Mode': 'no-cors',
    'Sec-Fetch-Site': 'same-origin',
    'Referer': 'https://www.goatbots.com/trending/pauper',
    'DNT': '1'
}

response = requests.request("GET", url, headers=headers)
#soup = BeautifulSoup(response.content, 'html.parser')

#sp = soup.find('.col3')


#df = pd.read_html(str(sp))



print(response.json())
